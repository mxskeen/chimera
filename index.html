<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ultra-modern chimera with OpenRouter integration - Experience Apple's design philosophy in AI chat">
    <meta name="theme-color" content="#000000">
    <title>chimera â€¢ Ultra Modern</title>

    <!-- Apple System Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Settings Panel -->
        <aside class="settings-panel" id="settingsPanel" aria-label="Chat Settings">
            <header>
                <h2>
                    <i class="fas fa-cog" aria-hidden="true"></i>
                    Settings
                </h2>
            </header>

            <form class="settings-form" id="settingsForm">
                <div class="setting-group">
                    <label for="apiProvider">AI Provider</label>
                    <select id="apiProvider" name="apiProvider" aria-describedby="providerHelp">
                        <option value="openrouter">OpenRouter</option>
                        <option value="znapai">ZnapAI</option>
                    </select>
                    <small id="providerHelp">Choose your preferred AI provider</small>
                </div>

                <div class="setting-group" id="openrouterGroup">
                    <label for="apiKey">OpenRouter API Key</label>
                    <input
                        type="password"
                        id="apiKey"
                        name="apiKey"
                        placeholder="sk-or-v1-..."
                        autocomplete="off"
                        spellcheck="false"
                        aria-describedby="apiKeyHelp"
                    >
                    <small id="apiKeyHelp">
                        Get your API key from
                        <a href="https://openrouter.ai/keys" target="_blank" rel="noopener noreferrer">
                            OpenRouter
                        </a>
                    </small>
                </div>

                <div class="setting-group" id="znapaiGroup" style="display: none;">
                    <label for="znapaiKey">ZnapAI API Key</label>
                    <input
                        type="password"
                        id="znapaiKey"
                        name="znapaiKey"
                        placeholder="znapai_..."
                        autocomplete="off"
                        spellcheck="false"
                        aria-describedby="znapaiHelp"
                    >
                    <small id="znapaiHelp">
                        Get your API key from
                        <a href="https://api.znapai.com/" target="_blank" rel="noopener noreferrer">
                            ZnapAI
                        </a>
                    </small>
                </div>

                <div class="setting-group">
                    <label for="modelStrategy">AI Strategy</label>
                    <select id="modelStrategy" name="strategy" aria-describedby="strategyHelp">
                        <option value="single">Single Model</option>
                        <option value="collaborative">Collaborative AI</option>
                        <option value="workflow">Task Workflow</option>
                    </select>
                    <small id="strategyHelp">Choose how multiple AI models should work together</small>
                </div>

                <div class="setting-group" id="singleModelGroup">
                    <label for="modelSelect">Primary Model</label>
                    <select id="modelSelect" name="model" aria-describedby="modelHelp">
                        <option value="">Select a model...</option>
                    </select>
                    <small id="modelHelp">Choose your preferred AI model for chat</small>
                </div>

                <div class="setting-group" id="collaborativeGroup" style="display: none;">
                    <label>Collaborative Models</label>
                    <div class="model-picker" id="modelPicker">
                        <div class="model-search">
                            <input type="text" id="modelSearch" placeholder="Search models..." class="model-search-input">
                            <button id="refreshModelsBtn" class="refresh-btn"><i class="fas fa-sync-alt"></i> Refresh</button>
                            <button id="selectAllBtn" class="select-all-btn">Select All</button>
                            <button id="clearAllBtn" class="clear-all-btn">Clear All</button>
                        </div>
                        <div class="selected-count">
                            <span id="selectedCount">0 models selected</span>
                        </div>
                        <div class="model-list" id="modelList">
                            <div class="loading-models">
                                <i class="fas fa-spinner fa-spin"></i>
                                <span>Loading models...</span>
                            </div>
                        </div>
                    </div>
                    <small>Select 2 or more models for collaborative processing. Models will work together sequentially.</small>
                </div>

                <div class="setting-group" id="workflowGroup" style="display: none;">
                    <label for="taskType">Task Type</label>
                    <select id="taskType" name="taskType" aria-describedby="taskHelp">
                        <option value="analysis">Data Analysis</option>
                        <option value="creative">Creative Project</option>
                        <option value="technical">Technical Development</option>
                        <option value="research">Research Project</option>
                        <option value="code-review">Code Review</option>
                        <option value="problem-solving">Complex Problem Solving</option>
                    </select>
                    <small id="taskHelp">Select task type to get optimized model workflow</small>

                    <div id="workflowPreview" class="workflow-preview">
                        <h5>Workflow Preview:</h5>
                        <div class="workflow-step">
                            <span class="step-number">1</span>
                            <span class="step-model">Claude 3.5 Sonnet</span>
                            <span class="step-task">Initial Analysis</span>
                        </div>
                        <div class="workflow-step">
                            <span class="step-number">2</span>
                            <span class="step-model">GPT-4o</span>
                            <span class="step-task">Content Generation</span>
                        </div>
                        <div class="workflow-step">
                            <span class="step-number">3</span>
                            <span class="step-model">Gemini Pro 1.5</span>
                            <span class="step-task">Final Synthesis</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <label for="temperature">
                        Creativity: <span id="tempValue">0.7</span>
                    </label>
                    <input
                        type="range"
                        id="temperature"
                        name="temperature"
                        min="0"
                        max="2"
                        step="0.1"
                        value="0.7"
                        aria-describedby="tempHelp"
                    >
                    <small id="tempHelp">Controls response creativity and randomness (0-2)</small>
                </div>

                <div class="setting-group">
                    <label for="maxTokens">
                        Max Tokens: <span id="tokensValue">1000</span>
                    </label>
                    <input
                        type="range"
                        id="maxTokens"
                        name="maxTokens"
                        min="100"
                        max="4000"
                        step="100"
                        value="1000"
                        aria-describedby="tokensHelp"
                    >
                    <small id="tokensHelp">Maximum length of AI responses</small>
                </div>

                <button type="submit" class="btn-primary" id="saveSettings">
                    <i class="fas fa-save" aria-hidden="true"></i>
                    Save Settings
                </button>
            </form>
        </aside>

        <!-- Main Chat Interface -->
        <main class="chat-container" role="main">
            <!-- Header -->
            <header class="header">
                <button
                    class="settings-btn"
                    id="settingsBtn"
                    aria-label="Toggle Settings"
                    title="Toggle Settings"
                >
                    <i class="fas fa-cog" aria-hidden="true"></i>
                    Settings
                </button>

                <h1>chimera</h1>

                <div class="model-info" id="currentModel">
                    No model selected
                </div>
            </header>

            <!-- Chat Messages Area -->
            <section class="chat-messages" id="chatMessages" role="log" aria-live="polite" aria-label="Chat conversation">
                <div class="welcome-message" id="welcomeMessage">
                    <i class="fas fa-comments" aria-hidden="true"></i>
                    <h2>Welcome to chimera</h2>
                    <p>Configure your settings to begin chatting with AI models</p>
                    <p>Enter your OpenRouter API key and select a model to get started</p>
                </div>
            </section>

            <!-- Chat Input -->
            <footer class="chat-input-container">
                <div class="input-wrapper">
                    <textarea
                        id="messageInput"
                        name="message"
                        placeholder="Type your message here... (Press Enter to send, Shift+Enter for new line)"
                        rows="1"
                        aria-label="Message input"
                        aria-describedby="inputHelp"
                    ></textarea>
                    <button
                        id="sendBtn"
                        class="send-btn"
                        type="button"
                        aria-label="Send message"
                        title="Send message"
                        disabled
                    >
                        <i class="fas fa-paper-plane" aria-hidden="true"></i>
                    </button>
                </div>
                <div class="input-info">
                    <span id="charCount" aria-live="polite">0 characters</span>
                    <span id="status" aria-live="polite">Ready</span>
                </div>
            </footer>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" aria-hidden="true">
        <div class="spinner" aria-hidden="true"></div>
        <p>Generating response...</p>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast" role="alert" aria-live="polite" aria-atomic="true"></div>

    <!-- Scripts -->
    <script src="script.js" defer></script>
</body>
</html>
